-  虚拟DOM

```react
// 为什么使用虚拟DOM?
// 虚拟DOM可以看成真实DOM的简化版，保留了真实DOM用到属性。

// 虚拟DOM的优点
// 1. 简化了真实DOM(只保留必要的属性和方法)，Diff算法比较的效率显著提高
// 2. 无需手动操作，对DOM操作进行了优化，保证了性能的下限
// 3. 虚拟DOM是JavaScript对象，而DOM和浏览器强相关，所以虚拟DOM更容易进行跨平台

// 虚拟DOM缺点
// 1. 首次渲染的时候多了一层虚拟DOM的计算 性能会稍差一点
// 2. 无法进行性能的极致优化
```

- Diff算法、key、以及index作为key的问题

```react
// Diff算法
// 注意：真实DOM操作修改了属性，下次diff算法的时候不会被当作改变，从而更新(可以理解为真实DOM操作后，虚拟DOM也会更新，所以会当成同一个元素继续复用)。

// key的作用？
// 虚拟DOM中，key作为一个标识，当数据发生改变时，会生成新的虚拟DOM，随后对新旧虚拟DOM就行Diff算法比较

// 标签比较的属性 (比较的最小单位是标签,子组件算一个标签-比较props等)
// a. 存在相同的key
//   1) 内容相同，直接复用旧的真实DOM
//   2) 内容不同,将不同的部分替换掉，相同部分还是复用
// b. key不同时，根据新的数据生成新的DOM节点渲染到页面

// 是否能使用index作为key吗? 为什么?
// 尽量不用,index作为key的时候就不能对前面的元素做操作了，否则会异常。
// 不如，删除第一个元素(index为0),第二个元素顶上来，这时他的index也是0,那么diff算法判断key的时候就通过了，然后比较其中的内容，如果里面的内容也没改变，那么就复用了，但是这样是异常的，因此这些内容是属于被删除的第一个元素的。
```

