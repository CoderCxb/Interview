### 常见网络请求状态码
  - 1xx  信息性状态码 - 接收的请求正在处理
    - 100(Continue)  中间状态，等待下一步
    - 101 协议升级，如升级Websocket和HTTP2
  - 2xx  成功状态码 - 请求正常处理完毕
    - 200(OK) 请求成功
    - 204(No Content) 请求成功 但是返回的报文不包含body主体
    - 206(Partail Content) 获取部分内容，配合Content-Range
  - 3xx  重定向状态码 - 需要进行附加操作以完成请求
    - 301(Moved Permanently)   永久重定向，浏览器会缓存
    - 302(Found)     临时重定向，浏览器不会缓存(禁止post变成get,但是大家不遵守)
    - 304(Not Modified)     资源未修改，使用缓存
    - 307(Temporary Redirect)   临时重定向，浏览器不会缓存(遵守post不变get的标准)
  - 4xx 客户端错误状态码 - 服务器无法处理请求
    - 400(Bad Request)    请求报文存在语法错误
    - 401(Unauthorized)  请求需要带有通过HTTP认证的认证信息，如token验证失败(authorization)
    - 403(Forbidden)        请求被服务器拒绝
    - 404(Not Found)        服务器上没有该资源
    - 405(Method Not Allowed) 请求方法不被允许
  - 5xx  服务器错误状态码 - 服务器处理请求出错
    - 500(Internal Server Error) 服务器处理请求发生错误
    - 502(Bad Gateway)    网关或代理从服务器获取相应异常
    - 503(Service Unavailable) 服务器超负载或停机维护,无法处理请求


### HTTP报文
  - 请求报文
    - 报文首部
      - 组成: 请求行 + 请求头(请求首部 + 通过首部 + 实体首部) + 其他
      - 请求行 = 方法 + URI + HTTP版本, 如 GET / HTTP/1.1
      - 请求头 = key: value, 如 

    - 空行(CR + LF)
    - 报文主体
  - 响应报文
    - 报文首部
      - 组成: 状态行 + 响应头(响应首部 + 通用首部 + 实体首部) + 其他
      - 状态行 = HTTP版本 + 状态码, 如 HTTP/1.1 200 OK 

### 常见网络请求方式

  - get         获取资源
  - post        传输主体信息
  - put         修改文件
  - head        获取报文首部
  - delete      删除文件
  - trace       追踪路径
  - options     询问支持的方法
  - connect     要求用隧道协议连接代理
  - link        建立和资源之间的联系
  - unlink      断开连接关系

### get和post区别
  - 语义上的区别
  - get请求会被浏览器主动缓存，post请求不会
  - get只能进行URL编码，只能接受ASCII字符，post没有限制
  - get一般将参数放在URL中，post一般放在请求体中
  - get发送一次请求报文，post发送两次，先发header,服务器响应100，在发body

### URL和URI
  - URL(Uniform Resource Locator - 统一资源定位符): 是一个用于标识并定位某一互联网资源名称的字符串
  - URI(Uniform Resource Identifier - 统一资源标识符): 是一个用于标识某一互联网资源名称的字符串

**PS: URL是URI的子集** 

### http1.0、http1.1、http2.0、http3.0区别
  - http1.0
    - 默认不开启长连接,每个请求对应一个连接

  - http1.1
    - 默认开启长连接:  Connection： keep-alive
    - 新增options、trace、connect请求方式
    - Host头处理，http1.0认为每个服务器对应一个IP,随着虚拟技术发展，现在一个物理服务器可对应多个虚拟主机，并且共享同一个IP。
    - 引入更多cache缓存机制，如ETag、If-None-Match、If-Match

  - http2.0  
    - 二进制格式
      http1.x的解析是基于文本的，而http2.x是基于二进制的。
    - 多路复用: 连接共享，即每一个request都是是用作连接共享机制的。一个request对应一个id，这样一个连接上可以有多个request，每个连接的request可以随机的混杂在一起，接收方可以根据request的id将request再归属到各自不同的服务端请求里面。
    - 管线化,请求不需要再等待前一个网络请求响应再发送
    - header压缩: 压缩了HTTP的请求头和响应头
    - 允许服务器主动向客户端推送数据
    - WebSocket

  - http3.0 
    - 基于UDP
    - TCP是根据 IP、端口、目标IP、目标端口去标识的，只要其中一个发生改变，那么就会断开连接，而UDP是根据一个UUID来标识的，UUID不改变，就不需要重新连接。
    - http2.0(TCP)中如果多个请求中发生丢包，其他请求要等到这个包找到了才能继续，而UDP则不会，其他请求正常上传。

### TCP/IP
###### TCP/IP是什么?
  - 说法: 指TCP和IP这两种协议
  - 说法二: 在IP协议通信过程中使用到的协议族的统称

###### 分层结构
  - 应用层: 决定了向用户提供应用服务时通信的活动
    - 常见协议:
      - FTP(File Transfer Protocol - 文件传输协议): 互联网中文件传输的一套标准协议
      - http(Hyper Text Transfer Protocol - 超文本传输协议): 互联网上应用最为广泛的一种网络协议，用于将超文本从服务器传输至客户端
      - SSL(Secure Sockets Layer - 安全套接字)和TLS(Transport Layer Security - 安全传输层协议):为网络通信提供安全及数据完整性的安全协议
      - SSH(Secure Shell - 安全外壳协议): 提供安全性的协议
  - 传输层: 对上层应用层提供处于网络连接中的两台计算机之间的数据传输
    - 常见协议:
      - TCP(Transmission Control Protocol): 传输控制协议
      - UDP(User Data Protocol): 用户数据报协议
  - 网络层: 根据IP协议处理网络中流动的数据包, 数据包是网络传输的最小数据单位
    - 常见协议:
      - IP(Internet Protocol - 网际协议): 网络之间互连的协议
      - ARP(Address Resolution Protocol - 地址解析协议): 根据双方的IP地址反查出对应的MAC地址(物理地址)
  - 链路层: 用来连接网络的硬件部分,包括驱动、网卡、光纤等物理可见部分

**PS: MAC地址用于在网络中唯一标示一个网卡，一台设备若有一或多个网卡，则每个网卡都需要并会有一个唯一的MAC地址**

### 和OSI的对应关系
  - 应用层 
  - 表示层
  - 会话层
  - 运输层
  - 网络层
  - 数据链路层
  - 物理层

流程: 以HTTP举例, 作为发送者的客户端在应用层(HTTP协议)发送了一个HTTP请求,为了传输方便,传输层(TCP协议)对HTTTP请求报文进行分割并打上标记序号和端口号之后转发给网络层, 网络层(IP协议)增加服务器的MAC地址后转发给链路层,经过链路层传输到服务器,在经过服务器的链路层->网络层->传输层->应用层后得到HTTP请求


### TCP和UDP
传输控制协议 TCP(Transmission Control Protocol): 面向连接的、可靠的数据传输服务,其数据传输单位是报文段
用户数据报协议 UDP(User Datagram Protocol): 提供无连接的、尽最大努力的数据传输服务(不保证数据的可靠性),数据传输单位是用户数据报

###### TCP和UDP的区别
  - TCP在传输过程中通过序列号和确认应答机制提高可靠性、顺序控制确保数据顺序、重发控制避免丢包、流量控制控制发送率、拥塞控制避免拥塞,UDP则是在接收到应用层数据后立马原样发送到网络上
  - TCP是面向连接的, 在通信开始前需要建立连接, UDP则不需要

**概念:**
  - 滑动窗口: 发送方能够发送数据的大小/接收方能够接收数据的大小,会动态变化
  - 流量控制: 通过滑动窗口,当发送方/接收方为窗口为0时, 发送方停止发送,解决的是发送方和接收方发送/接收速率不匹配的问题
  - 

### DNS
  - DNS(Domain Names System - 域名系统): 作为将域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网
  - 模型层: 应用层
  - 作用: IP地址并不方便记忆,而DNS就是将域名和IP地址对应起来,方便访问IP地址
  - 域名解析过程
    - 检查浏览器的缓存和本地DNS的缓存(访问过会有缓存)
    - 查看本机的hosts文件
    - DNS服务器缓存(前两个都没有时，向DNS服务器查询,DNS服务器也是优先查找自己本地缓存)
    - DNS服务器查找(DNS没有缓存时,递归查找) ,如 www.baidu.com. 这个域名,默认情况下末尾的.会被省略(等价于.root)。首先查询根域名.root, 获取顶级域名 .com的NS(Name Server - 名称) 和 A(Address - ip地址), 然后再查询顶级域名获取二级域名 .baidu.com的NS和A,再查询二级域名获取 www.baidu.com的NS和A.
    - 这时浏览器就获取到了这个域名对应的ip地址,并会对其进行缓存,不同的浏览器的缓存时间也不同。
    - DNS还有负载均衡的功能,当一个网站对应多个服务器的时候,在相应DNS查询的时候，对不同的查询返回不同的解析结果(ip地址)，这样访问就会被分散开,达到负载均衡的效果。

  - 优化
    - DNS-Prefetching : 
      <link rel="dns-prefetch" href="http://baidu.com" >
    - 域名收敛: 将静态资源放在同一个资源，可以有效减少DNS请求
    - HTTPDNS : 基于HTTP协议向HTTPDNS服务器发送域名解析请求，替代了基于DNS协议向运营商Local DNS发起解析请求的传统方式。

      

### CDN
  - 全称：Content Delivery Network，内容分发网络): 通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接和负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上，加快访问速度。

### HTTP和HTTPS

###### 1. 概念

http: 超文本传输协议,互联网上应用最为广泛的一种网络协议，用于将超文本从服务器传输至客户端。

https:可以理解为基于SSL(安全套接字)的http的安全通道,在传输层和应用层之间对网络连接进行加密。

对称密钥: 加密解密使用的是同一个密钥

非对称密钥: 密钥分为公钥和私钥, 可以互相加密解密,即公钥加密-私钥解密、私钥加密-公钥加密
  - 用法一: 客户端通过服务器的公钥加密数据发送给服务器, 服务器再通过私钥解密获取数据
  - 用法二: 服务器使用私钥加密数字签名, 客户端通过公钥解密验证服务器身份



###### 2. 为什么使用HTTPS?
**原因：**
  - HTTP通信使用明文,可能被窃听
  - HTTP不验证通信双方的身份,可能遭遇伪装
  - HTTP无法证明报文完整,可能被篡改

**问题:**
  - 在HTTP的基础上添加了SSL,处理通信量增加
  - 服务器和客户端都需要进行加密,资源消耗更大
  - ca证书需要付费

###### 3.https工作原理
1. 客户端使用https的url访问服务器并告知支持的加密算法
2. 服务器接收到客户端的请求以后将网站的ca证书(公钥证书,包含公钥)随报文传输给客户端并告知使用的加密算法，随后客户端验证ca证书是否为该服务器所属
3. 客户端的浏览器或操作系统内置了ca机构的公钥,
3. 合法性验证通过后,客户端会使用ca证书的公钥加密一个叫做Pre-master secret的随机密码串并发送给服务器
4. 服务器接收到后使用私钥进行解密，获取Pre-master secret随机密码串，至此，服务器和客户端都持有Pre-master secret随机密码串
5. 随后发送的数据都通过该随机密码串进行加密和解密,加密方式为服务器告知使用的加密算法

**ca证书验证**
1. 客户端获取到ca证书后, 将证书分解成 明文和数字签名(明文经过hash再经过ca机构密钥加密以后的签名)
2. 使用ca机构公钥解密得到 明文的hash值(H1)
3. 客户端通过明文中的hash算法对明文进行hash,得到新的hash值(H2)
4. 将hash值(H1)和hash值(H2)的值进行对比, 如果相等则没有被篡改

### WebSocket
WebSocket一种浏览器与服务器进行全双工通讯的网络技术，属于应用层协议。它基于TCP传输协议，并复用HTTP的握手通道

###### 全双工通信和半双工通信
全双工: 同时支持数据的双向通信
半双工: 支持数据双向通信,但同一时间只能往一个方向通信

### 网络安全

###### 1. XSS攻击
xss - 跨站脚本攻击（Cross Site Scripting）是最常见和基本的攻击 WEB 网站方法，攻击者通过注入非法的 html 标签或者 javascript 代码，从而当用户浏览该网页时，控制用户浏览器


###### 2. CSRF攻击